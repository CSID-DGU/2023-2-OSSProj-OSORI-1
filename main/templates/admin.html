{% extends 'reference.html' %}

{% block content %}

<div class="gray_sec">
    <div class="container">
        <div style="font-size:4rem;">
            <i class="fas fa-graduation-cap"></i>
        </div>
        <div class="big_title">ê´€ë¦¬ì í˜ì´ì§€_í•™ê³¼ ì¡¸ì—…ìš”ê±´ ë“±ë¡</div>
    </div>
</div>

<!-- ì…ë ¥ë€ -->
<div class="white_sec">
    <div class="container">
        <form action="/f_register/" method="post" name='regi_form' onsubmit="return check_up()">
            {% csrf_token %}
            <div class="regi_box" style="width:400px">

                <label>í•™ê³¼</label>
                <input type="text" name="major">

                <label>ë…„ë„</label>
                <input type="number" name="year">

                <label>ì´í•™ì </label>
                <input type="number" name="total">

                <label>ì „ê³µí•™ì </label>
                <input type="number" name="major_credit">

                <label>ë³µìˆ˜ì „ê³µ í•™ì </label>
                <input type="number" name="s_credit">

                <label>ì „ê³µí•„ìˆ˜ í•™ì </label>
                <input type="number" name="major_essential">

                <label>ì „ê³µì„ íƒ í•™ì </label>
                <input type="number" name="major_selection">

                <label>ì „ê³µì„ íƒ ì¤‘ í•„ìˆ˜ ì´ìˆ˜ ê³¼ëª©</label>
                <input type="text" name="major_selection_list">

                <label>ëŒ€í•™íƒêµ¬ í•™ì </label>
                <input type="number" name="explore">

                <label>ìì•„ì„±ì°° í•™ì </label>
                <input type="number" name="self">

                <label>21c ì‹œë¯¼, ë¯¸ë˜ìœ„í—˜ì‚¬íšŒì™€ì•ˆì „, ì§€ì—­ì—°êµ¬ í•™ì </label>
                <input type="number" name="civ">

                <label>ê¸€ì“°ê¸° í•™ì </label>
                <input type="number" name="writing">

                <label>ëª…ì‘(ì„¸ë¯¸ë‚˜) í•™ì </label>
                <input type="number" name="seminar">

                <label>ë¦¬ë”ì‹­ í•™ì </label>
                <input type="number" name="leader">

                <label>EAS1,2 í•™ì </label>
                <input type="number" name="eas">

                <label>ì†Œí”„íŠ¸ì›¨ì–´ í•™ì </label>
                <input type="number" name="sw">

                <label>í•™ë¬¸ê¸°ì´ˆ ì´ í•™ì (ì™¸êµ­ì–´ ì„ íƒ ì‹œ)</label>
                <input type="number" name="basic_eng">

                <label>í•™ë¬¸ê¸°ì´ˆ ì´ í•™ì (ìì—°ê³¼í•™ ì„ íƒ ì‹œ)</label>
                <input type="number" name="basic">

                <label>í•™ë¬¸ ê¸°ì´ˆ êµê³¼ëª© m ëª©ë¡</label>
                <input type="text" name="basic_list_m">

                <label>í•™ë¬¸ ê¸°ì´ˆ êµê³¼ëª© s ëª©ë¡</label>
                <input type="text" name="basic_list_s">

                <label>í•™ë¬¸ ê¸°ì´ˆ êµê³¼ëª© c ëª©ë¡</label>
                <input type="text" name="basic_list_c">

                <label>ì „ê³µ ì›ì–´ê°•ì˜ í•™ì </label>
                <input type="number" name="eng_major">
            </div>
            <input type='submit' class='regi_btn' value='ì¡¸ì—…ìš”ê±´ ë“±ë¡í•˜ê¸°'>
        </form>
    </div>
</div>
    
{% endblock %}


{% block js_section %}

<script>
    // ì˜ì–´ì„±ì  ì…ë ¥ ë„ìš°ê¸°
    function pop_score(){
        var eng_box = document.getElementById('eng');
        var eng_ind = document.getElementById("eng").options.selectedIndex;
        if(eng_box.options[eng_ind].value !== "í•´ë‹¹ì—†ìŒ" && eng_box.options[eng_ind].value !== "ì´ˆê³¼í•™ê¸°ë©´ì œ")
        {
                document.getElementById('eng_score').style.display = "block"; 
        }
        else{
            document.getElementById('eng_score').style.display = "none";
        }
    }

    // ê°€ì…í•˜ê¸° ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ê²€ì‚¬í•˜ê¸°
    function check_up(){
        // 1. í•™ë¶€ìƒì¼ê²½ìš° í•™ê³¼ ì„ íƒí–ˆëŠ”ì§€ í™•ì¸
        if(document.getElementById('major_select'))
        {
            var sel_box = document.getElementById('major_select');
            var sel_ind = document.getElementById('major_select').options.selectedIndex;
            if(sel_box.options[sel_ind].value === 'x'){
                alert('ğŸ¤” ì „ê³µì„ ì„ íƒí•´ì£¼ì„¸ìš”.') ;
                regi_form.major_select.focus();
                return false;
            }
        }
        // 2. ì˜ì–´ì¸ì¦ ì„ íƒì‹œ ì ìˆ˜ ì…ë ¥í™•ì¸
        var eng_box = document.getElementById('eng');
        var eng_ind = document.getElementById("eng").options.selectedIndex;
        if(eng_box.options[eng_ind].value !== "í•´ë‹¹ì—†ìŒ" && eng_box.options[eng_ind].value !== "ì´ˆê³¼í•™ê¸°ë©´ì œ" && eng_box.options[eng_ind].value !== "OPIc"){
            if (!document.getElementById('eng_score').value || document.getElementById('eng_score').value == 0) {
                alert('ğŸ¤” ì˜ì–´ ì ìˆ˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.') ;
                regi_form.eng_score.focus();
                return false;
            }
        }
        // 3. ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í™•ì¸
        if(!document.getElementById('pw1').value){
            alert('ğŸ¤” ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.') ;
            regi_form.pw1.focus();
            return false;
        }
        // 4. ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸
        if(document.getElementById('pw1').value !== document.getElementById('pw2').value){
            alert('ğŸ¤” ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.') ;
            regi_form.pw1.focus();
            return false;
        }
        return true;
    }

    // ì„¸ë¶€ì „ê³µ ìˆì„ ê²½ìš° í•™ê³¼ placeholder ë³€ê²½
    const sub_major = "{{request.session.temp_user_info.sub_major}}";
    if(sub_major){
        document.getElementsByName("major")[0].placeholder += " (" + sub_major + ")";
    }

    
</script>

{% endblock %}